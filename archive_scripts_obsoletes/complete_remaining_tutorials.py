#!/usr/bin/env python3
"""
Script pour compl√©ter les tutoriels League of Legends et StarCraft II
"""

import asyncio
import sys
from pathlib import Path
from motor.motor_asyncio import AsyncIOMotorClient
from dotenv import load_dotenv
import os

# Add parent directory to path to import our modules
sys.path.append(str(Path(__file__).parent / 'backend'))

from backend.models import Tutorial, Game

async def complete_remaining_tutorials():
    """Compl√©ter LoL et StarCraft II pour 12 tutoriels chacun."""
    
    # Load environment variables
    ROOT_DIR = Path(__file__).parent / 'backend'
    load_dotenv(ROOT_DIR / '.env')
    
    # Connect to MongoDB
    mongo_url = os.environ['MONGO_URL']
    client = AsyncIOMotorClient(mongo_url)
    db = client[os.environ['DB_NAME']]
    
    print("üöÄ Compl√©tion des tutoriels restants...")
    
    # Get admin user ID
    admin_user = await db.users.find_one({"role": "admin"})
    admin_id = admin_user["id"]
    
    # Images pour les nouveaux tutoriels
    tutorial_images = [
        '/images/tutorials/lol_moba.jpg',
        '/images/tutorials/lol_gameplay.jpg', 
        '/images/tutorials/sc2_strategy.jpg',
        '/images/tutorials/starcraft_gaming.jpg',
        '/images/tutorials/esports_pro.jpg',
        '/images/tutorials/tournament.jpg',
        '/images/tutorials/gaming_pro1.jpg',
        '/images/tutorials/gaming_pro2.jpg',
        '/images/tutorials/gaming_pro3.jpg'
    ]
    
    try:
        # COMPL√âTER LEAGUE OF LEGENDS (2 tutoriels manquants)
        print("üèÜ Ajout des 2 tutoriels LoL manquants...")
        
        lol_additional_tutorials = [
            {
                "title": "Composition d'√©quipe et synergies",
                "description": "Ma√Ætrisez l'art de cr√©er des compositions d'√©quipe √©quilibr√©es avec synergies de champions, phases de jeu et strat√©gies de draft.",
                "game": Game.LOL,
                "level": "expert",
                "image": tutorial_images[0],
                "content": """
# üéØ Composition d'√âquipe - Strat√©gie Draft Expert

## üß© Fondamentaux Composition

### üé™ **R√¥les et Synergies**
```
Structure 5v5 Optimale :
‚Ä¢ Top Lane : Tanky frontline (engage/peel)
‚Ä¢ Jungle : Contr√¥le map/objectives
‚Ä¢ Mid Lane : Damage burst/utility
‚Ä¢ ADC : DPS sustained late game
‚Ä¢ Support : Vision/protection/engage

Synergies Meta 2025 :
‚Ä¢ Poke Composition : Ziggs, Jayce, Varus
‚Ä¢ Teamfight : Malphite, Yasuo, Miss Fortune
‚Ä¢ Pick Potential : Thresh, Ahri, Rengar
‚Ä¢ Split Push : Fiora, Twisted Fate, Shen
‚Ä¢ Late Game : Kassadin, Jinx, Janna
```

### üìä **Phase de Draft Strat√©gique**
```
Draft Order Priorities :
1. Ban Phase 1 : Meta OP champions
2. Pick 1-2 : Flex picks polyvalents
3. Ban Phase 2 : Counter picks dangereux
4. Pick 3-4 : Core composition
5. Pick 5 : Adaptations finales

Information Gathering :
‚Ä¢ Check enemy main champions (op.gg)
‚Ä¢ Analyze team preferences (comfort picks)
‚Ä¢ Identify win conditions (early/late)
‚Ä¢ Counter-strategies preparation
‚Ä¢ Backup plans (adaptability)
```

## ‚öîÔ∏è Styles de Composition

### üöÄ **Early Game Dominance**
```
Champions Prioritaires :
‚Ä¢ Top : Renekton, Pantheon, Jayce
‚Ä¢ Jungle : Lee Sin, Elise, Nidalee
‚Ä¢ Mid : Lucian, Corki, Talon
‚Ä¢ ADC : Draven, Kalista, Lucian
‚Ä¢ Support : Nautilus, Leona, Thresh

Strat√©gie Ex√©cution :
‚Ä¢ Invades level 1 agressives
‚Ä¢ Herald priorit√© absolue (14min)
‚Ä¢ Tower diving coordonn√©
‚Ä¢ Snowball advantages (tempo)
‚Ä¢ Close games 20-25 minutes
```

### üè∞ **Late Game Scaling**
```
Champions Scaling :
‚Ä¢ Top : Nasus, Kayle, Gangplank
‚Ä¢ Jungle : Graves, Karthus, Master Yi
‚Ä¢ Mid : Kassadin, Azir, Orianna
‚Ä¢ ADC : Jinx, Tristana, Twitch
‚Ä¢ Support : Janna, Soraka, Lulu

Survival Tactics :
‚Ä¢ Ward defensively (vision control)
‚Ä¢ Farm priority (power spikes)
‚Ä¢ Disengage tools (kiting)
‚Ä¢ Objective trading (calculated losses)
‚Ä¢ Win condition patience (35+ min)
```

### üé™ **Pick Composition**
```
Assassination Tools :
‚Ä¢ High mobility champions
‚Ä¢ CC chains reliable (pick guarantee)
‚Ä¢ Map control vision (catch opportunities)
‚Ä¢ Quick elimination (burst damage)
‚Ä¢ Escape mechanisms (safety)

Execution Pattern :
1. Vision control setup (deep wards)
2. Pick isolated target (carry priority)
3. Force 5v4 advantage (objectives)
4. Repeat until victory (snowball)
```

## üß† Psychologie Draft

### üé≠ **Mind Games Avanc√©s**
```
Draft Psychology :
‚Ä¢ Bluff picks (fake intentions)
‚Ä¢ Comfort zone denial (ban mains)
‚Ä¢ Meta disruption (unexpected picks)
‚Ä¢ Team tilt prevention (confidence)
‚Ä¢ Information warfare (hidden strats)

Adaptation Mentale :
‚Ä¢ Plan A/B/C preparation
‚Ä¢ Flexibility > rigidity
‚Ä¢ Team communication (clarity)
‚Ä¢ Confidence projection (enemy doubt)
‚Ä¢ Learning from defeats (improvement)
```

La composition d'√©quipe d√©termine 70% de l'issue du match. Ma√Ætrisez le draft pour dominer la Rift !
                """,
                "tags": ["composition", "draft", "strat√©gie", "synergies"],
                "video_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
            },
            {
                "title": "Analyse replay et am√©lioration",
                "description": "D√©veloppez vos comp√©tences d'auto-analyse avec techniques de review replay, identification d'erreurs et planification d'am√©lioration syst√©matique.",
                "game": Game.LOL,
                "level": "expert", 
                "image": tutorial_images[1],
                "content": """
# üìπ Analyse Replay - Am√©lioration Syst√©matique

## üîç M√©thode d'Analyse Professionnelle

### üìù **Structure Review Session**
```
Phase 1 : Vue d'Ensemble (5 min)
‚Ä¢ Result analysis (victory/defeat causes)
‚Ä¢ KDA contextualization (meaningful stats)
‚Ä¢ Objective control (towers/dragons/baron)
‚Ä¢ Team fighting effectiveness
‚Ä¢ Macro decisions quality

Phase 2 : Analyse D√©taill√©e (20 min)
‚Ä¢ Laning phase micro-decisions
‚Ä¢ Map movements (rotations/roams)
‚Ä¢ Team fight positioning/execution
‚Ä¢ Resource allocation (farm/vision)
‚Ä¢ Communication effectiveness

Phase 3 : Action Plan (5 min)
‚Ä¢ Top 3 improvement points
‚Ä¢ Practice methods specific
‚Ä¢ Next games focus areas  
‚Ä¢ Skill development priorities
‚Ä¢ Mental adjustments needed
```

### üéØ **Points d'Analyse Critiques**
```
Early Game (0-15 min) :
‚Ä¢ CS per minute (aim 7+ mid/ADC)
‚Ä¢ Trading patterns (damage trades)
‚Ä¢ Jungle tracking (gank prediction)
‚Ä¢ Roaming timing (wave management)
‚Ä¢ Vision placement (strategic wards)

Mid Game (15-25 min) :
‚Ä¢ Objective prioritization (dragon/herald)
‚Ä¢ Team fight participation
‚Ä¢ Split push execution/timing
‚Ä¢ Macro rotations (map movements)
‚Ä¢ Item build adaptation

Late Game (25+ min) :
‚Ä¢ Positioning team fights (safe damage)
‚Ä¢ Baron/Elder control (game ending)
‚Ä¢ Death timer management (risks)
‚Ä¢ Win condition execution
‚Ä¢ Decision making under pressure
```

## üìä Outils d'Analyse Avanc√©s

### üíª **Logiciels Sp√©cialis√©s**
```
Analysis Tools :
‚Ä¢ League of Legends Client (native replay)
‚Ä¢ OP.GG (statistical analysis)
‚Ä¢ Mobalytics (performance insights)
‚Ä¢ Porofessor (live game data)
‚Ä¢ Blitz.gg (automated coaching)

Advanced Features :
‚Ä¢ Heat maps positioning
‚Ä¢ Damage share analysis
‚Ä¢ Vision score trending
‚Ä¢ Gold efficiency tracking
‚Ä¢ Skill shot accuracy metrics
```

### üìà **Metrics Tracking**
```
Core Statistics :
‚Ä¢ CS Differential (+/- vs opponent)
‚Ä¢ Damage per Gold (efficiency)
‚Ä¢ Kill Participation % (team fighting)
‚Ä¢ Vision Score per minute
‚Ä¢ First Blood Rate (early game)

Advanced Metrics :
‚Ä¢ Solo kill frequency
‚Ä¢ Death positioning analysis
‚Ä¢ Objective damage contribution
‚Ä¢ Roaming success rate
‚Ä¢ Late game carry percentage
```

## üéì M√©thodologie d'Am√©lioration

### üìö **Study Plan Structured**
```
Weekly Review Schedule :
‚Ä¢ Replay analysis : 3 sessions/week
‚Ä¢ Educational content : 2 hours/week
‚Ä¢ Practice tool : 30 min/day
‚Ä¢ Ranked gameplay : Quality > quantity
‚Ä¢ Meta research : Patch notes/pro play

Skill Development Focus :
Week 1 : Laning fundamentals
Week 2 : Map awareness/roaming
Week 3 : Team fighting
Week 4 : Macro strategy
Week 5 : Review & integration
```

### üèÜ **Progress Tracking**
```
Performance Metrics :
‚Ä¢ Rank progression (LP gains)
‚Ä¢ Win rate trends (consistency)
‚Ä¢ Role performance (strengths/weaknesses)
‚Ä¢ Champion mastery (depth vs breadth)
‚Ä¢ Skill ceiling progress (mechanical limits)

Documentation Methods :
‚Ä¢ Replay notes (key learnings)
‚Ä¢ Mistake journal (error patterns)
‚Ä¢ Improvement log (skill development)
‚Ä¢ Goal setting (SMART objectives)
‚Ä¢ Progress celebration (motivation)
```

## üß† Mental Game Analysis

### üé≠ **Psychology Review**
```
Tilt Analysis :
‚Ä¢ Trigger identification (frustration causes)
‚Ä¢ Emotional patterns (performance correlation)
‚Ä¢ Decision quality decline (mental fatigue)
‚Ä¢ Recovery strategies (mindset reset)
‚Ä¢ Prevention methods (mental preparation)

Confidence Building :
‚Ä¢ Success pattern recognition
‚Ä¢ Strength acknowledgment (positive focus)
‚Ä¢ Improvement celebration (motivation)
‚Ä¢ Failure reframing (learning opportunities)
‚Ä¢ Goal achievement (confidence boost)
```

### üìä **Performance Correlation**
```
Mental State Tracking :
‚Ä¢ Mood before games (preparation)
‚Ä¢ Stress levels during matches
‚Ä¢ Focus quality assessment
‚Ä¢ Communication effectiveness
‚Ä¢ Leadership demonstration

Optimization Strategies :
‚Ä¢ Pre-game routine (mental preparation)
‚Ä¢ In-game mindfulness (present focus)
‚Ä¢ Post-game reflection (learning mindset)
‚Ä¢ Break management (fatigue prevention)
‚Ä¢ Long-term development (patience)
```

## üèÖ Pro Player Study Methods

### üéÆ **Elite Gameplay Analysis**
```
Pro VOD Study :
‚Ä¢ Champion specific gameplay
‚Ä¢ Macro decision making
‚Ä¢ Team coordination patterns
‚Ä¢ Innovation recognition (new meta)
‚Ä¢ Adaptation strategies (different situations)

Learning Extraction :
‚Ä¢ Technique identification (replicable skills)
‚Ä¢ Timing understanding (when to act)
‚Ä¢ Positioning principles (safety/effectiveness)
‚Ä¢ Resource allocation (optimal choices)
‚Ä¢ Communication patterns (team synergy)
```

L'analyse replay syst√©matique transforme les d√©faites en victoires futures. Investissez dans l'auto-am√©lioration !
                """,
                "tags": ["analyse", "replay", "am√©lioration", "coaching"],
                "video_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
            }
        ]
        
        # Ajouter les tutoriels LoL
        for tutorial_data in lol_additional_tutorials:
            tutorial = Tutorial(
                **tutorial_data,
                author_id=admin_id,
                is_published=True,
                views=0,
                likes=0
            )
            await db.tutorials.insert_one(tutorial.dict())
            print(f"‚úÖ Tutoriel LoL ajout√©: {tutorial_data['title']}")
        
        # COMPL√âTER STARCRAFT II (3 tutoriels manquants)
        print("\nüöÄ Ajout des 3 tutoriels StarCraft II manquants...")
        
        sc2_additional_tutorials = [
            {
                "title": "Build orders et strat√©gies macro",
                "description": "Ma√Ætrisez les build orders essentiels avec timing pr√©cis, gestion √©conomique et transitions strat√©giques pour dominer vos adversaires.",
                "game": Game.SC2,
                "level": "intermediate",
                "image": tutorial_images[2],
                "content": """
# ‚ö° Build Orders StarCraft II - Macro Strat√©gique

## üèóÔ∏è Fondamentaux Build Orders

### ‚è±Ô∏è **Timing et √âconomie de Base**
```
Principes Macro :
‚Ä¢ SCV production constante (never idle)
‚Ä¢ Supply blocks anticipation (no blocks)
‚Ä¢ Resource allocation (balance minerals/gas)
‚Ä¢ Expansion timing (economic growth)
‚Ä¢ Army production timing (defense/offense)

Base √©conomique Terran :
‚Ä¢ 1 base : 16-24 workers optimal
‚Ä¢ 2 bases : 32-48 workers (saturation)
‚Ä¢ 3+ bases : 66+ workers (late game)
‚Ä¢ Mule efficiency : High mineral patches priority
‚Ä¢ Gas workers : Tech requirements dependent
```

### üõ°Ô∏è **Build Orders Terran Standard**
```
1-1-1 Build (Polyvalent) :
0:17 - SCV (10/11)
0:18 - Supply Depot
0:45 - SCV (11/11)
1:15 - Barracks
1:45 - Refinery
2:15 - SCV to gas (3/3)
2:45 - Factory
3:15 - Starport
3:45 - Command Center (expansion)

Marine/Tank Push :
‚Ä¢ Marine production (constant)
‚Ä¢ Siege tank support (3-4 tanks)
‚Ä¢ Medivac timing (healing/transport)
‚Ä¢ Stim research (combat effectiveness)
‚Ä¢ +1 attack upgrade (damage increase)
```

## üè∞ Strat√©gies par Matchup

### ‚öîÔ∏è **TvP (Terran vs Protoss)**
```
Anti-Protoss Strategy :
‚Ä¢ Bio play emphasis (marines/marauders)
‚Ä¢ EMP usage (energy reduction)
‚Ä¢ Multi-prong attacks (harass/main force)
‚Ä¢ Widow mine drops (economy damage)
‚Ä¢ Late game ghost transition (high templar counter)

Critical Timings :
‚Ä¢ 8:00 - Stim timing push
‚Ä¢ 10:00 - Medivac drops harassment
‚Ä¢ 12:00 - Third base timing
‚Ä¢ 15:00+ - Late game composition
```

### üêõ **TvZ (Terran vs Zerg)**
```
Anti-Zerg Adaptation :
‚Ä¢ Wall-off early (ling run-by defense)
‚Ä¢ Hellion harassment (drone killing)
‚Ä¢ Tank positioning (zone control)
‚Ä¢ Marine splits (baneling defense)
‚Ä¢ Raven support (detection/PDD)

Pressure Points :
‚Ä¢ Early hellion pressure (eco damage)
‚Ä¢ Tank push mid-game (map control)
‚Ä¢ Multi-drop late game (base trade)
‚Ä¢ Air transition (brood lord counter)
```

### üîß **TvT (Mirror Match)**
```
Mirror Strategy :
‚Ä¢ Tank positioning critical (siege lines)
‚Ä¢ Marine count advantages
‚Ä¢ Viking control (air superiority)
‚Ä¢ Expansion race (economic leads)
‚Ä¢ Late game transition (sky terran)

Key Decisions :
‚Ä¢ Aggressive vs defensive (risk assessment)
‚Ä¢ Tech paths (mech vs bio)
‚Ä¢ Timing attacks (weak moments)
‚Ä¢ Base trades (economic calculation)
```

## üß† Advanced Macro Concepts

### üìä **Resource Management Expert**
```
Supply Management :
‚Ä¢ Future supply calculation (upcoming production)
‚Ä¢ Overlord/depot timing (never supply blocked)
‚Ä¢ Late game supply (200/200 optimization)
‚Ä¢ Supply drops emergency (terran advantage)

Production Cycles :
‚Ä¢ Constant worker production (foundation)
‚Ä¢ Military unit timing (army size goals)
‚Ä¢ Tech building coordination (research timing)
‚Ä¢ Upgrade prioritization (cost/benefit)
```

### üéØ **Decision Trees**
```
Macro Decision Points :
‚Ä¢ Economic vs military (investment balance)
‚Ä¢ Expansion timing (risk/reward)
‚Ä¢ Tech choices (counter/composition)
‚Ä¢ Army positioning (map control)
‚Ä¢ Engagement decisions (fight/retreat)

Information Based Decisions :
‚Ä¢ Scouting reports (enemy strategy)
‚Ä¢ Resource advantages (economic leads)
‚Ä¢ Timing windows (power spikes)
‚Ä¢ Map control (strategic positions)
‚Ä¢ Enemy weaknesses (exploitation)
```

## üèÜ Execution Under Pressure

### ‚ö° **Multi-tasking Excellence**
```
APM Optimization :
‚Ä¢ Hotkey efficiency (muscle memory)
‚Ä¢ Screen movement (minimap usage)
‚Ä¢ Production cycles (automatic habits)
‚Ä¢ Harassment micro (simultaneous control)
‚Ä¢ Macro maintenance (never idle time)

Pressure Management :
‚Ä¢ Calm decision making (stress control)
‚Ä¢ Priority identification (most important first)
‚Ä¢ Execution speed (practice requirements)
‚Ä¢ Error recovery (bounce back quickly)
‚Ä¢ Consistency maintenance (reliable performance)
```

### üéÆ **Practice Methodology**
```
Build Order Practice :
‚Ä¢ Timing benchmarks (precision goals)
‚Ä¢ Execution repetition (muscle memory)
‚Ä¢ Variation adaptation (different situations)
‚Ä¢ Speed improvement (efficiency gains)
‚Ä¢ Stress testing (under pressure)

Macro Drills :
‚Ä¢ Worker production (never idle)
‚Ä¢ Supply management (no blocks)
‚Ä¢ Production facility usage (constant queues)
‚Ä¢ Resource spending (efficient allocation)
‚Ä¢ Multi-base management (expansion control)
```

Les build orders parfaits cr√©ent des avantages d√©cisifs. Ma√Ætrisez la macro pour dominer StarCraft II !
                """,
                "tags": ["build-orders", "macro", "√©conomie", "strat√©gie"],
                "video_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
            },
            {
                "title": "Combat et micro-gestion avanc√©e",
                "description": "Perfectionnez vos comp√©tences de micro-gestion avec contr√¥le d'unit√©s expert, combats optimis√©s et techniques de manipulation avanc√©es.",
                "game": Game.SC2,
                "level": "expert",
                "image": tutorial_images[3],
                "content": """
# ‚öîÔ∏è Micro-Gestion StarCraft II - Combat Expert

## üéØ Fondamentaux Micro-Contr√¥le

### üñ±Ô∏è **Techniques de Base Avanc√©es**
```
S√©lection d'Unit√©s :
‚Ä¢ Control groups (1-0 hotkeys)
‚Ä¢ Box selection (drag precision)
‚Ä¢ Double-click selection (unit type)
‚Ä¢ Shift-click (add/remove units)
‚Ä¢ Control-click (select all type)

Mouvement Optimal :
‚Ä¢ Right-click movement (direct orders)
‚Ä¢ Attack-move (a-click automatic)
‚Ä¢ Hold position (defensive stance)
‚Ä¢ Patrol command (area control)
‚Ä¢ Stop command (cancel actions)
```

### ‚ö° **APM et Efficacit√©**
```
Actions Prioritaires :
‚Ä¢ Army control (combat micro)
‚Ä¢ Production cycles (macro maintenance)
‚Ä¢ Harassment control (multi-tasking)
‚Ä¢ Ability usage (spell casting)
‚Ä¢ Positioning adjustments (tactical moves)

Speed Training :
‚Ä¢ Metronome practice (rhythm consistency)
‚Ä¢ Muscle memory drills (hotkey automation)
‚Ä¢ Screen movement (camera hotkeys)
‚Ä¢ Precision targeting (accuracy improvement)
‚Ä¢ Multitasking scenarios (divided attention)
```

## üèπ Micro par Type d'Unit√©

### üöÅ **Unit√©s Volantes Terran**
```
Viking Micro :
‚Ä¢ Kiting ground units (range advantage)
‚Ä¢ Focus fire priority (target selection)
‚Ä¢ Formation spread (AoE damage reduction)
‚Ä¢ Transformation timing (air/ground mode)
‚Ä¢ Retreat patterns (damage minimization)

Medivac Micro :
‚Ä¢ Heal prioritization (most valuable units)
‚Ä¢ Drop techniques (surprise positioning)
‚Ä¢ Escape routes (safe extraction)
‚Ä¢ Energy management (heal efficiency)
‚Ä¢ Transport timing (unit delivery)

Banshee Control :
‚Ä¢ Cloak timing (surprise attacks)
‚Ä¢ Target prioritization (worker/tech)
‚Ä¢ Energy conservation (cloak duration)
‚Ä¢ Escape mechanics (hit and run)
‚Ä¢ Map positioning (attack angles)
```

### üõ°Ô∏è **Unit√©s Terrestres Avanc√©es**
```
Marine Splits :
‚Ä¢ Baneling defense (spread formation)
‚Ä¢ Storm dodging (rapid repositioning)
‚Ä¢ Focus fire (concentrated damage)
‚Ä¢ Stutter step (kiting technique)
‚Ä¢ Formation control (combat efficiency)

Tank Positioning :
‚Ä¢ Siege line formation (overlapping coverage)
‚Ä¢ Leapfrog advancement (mobile siege)
‚Ä¢ Terrain usage (high ground advantage)
‚Ä¢ Support positioning (tank protection)
‚Ä¢ Retreat coordination (tactical withdrawal)

Ghost Operations :
‚Ä¢ Snipe targeting (high value elimination)
‚Ä¢ EMP timing (energy removal)
‚Ä¢ Cloak infiltration (stealth positioning)
‚Ä¢ Nuke targeting (psychological warfare)
‚Ä¢ Retreat survival (escape techniques)
```

## üß™ Techniques Micro Sp√©cialis√©es

### üé™ **Harassment et Drops**
```
Multi-Drop Coordination :
‚Ä¢ Simultaneous attacks (attention division)
‚Ä¢ Target prioritization (economic damage)
‚Ä¢ Extraction timing (unit preservation)
‚Ä¢ Distraction tactics (main army movement)
‚Ä¢ Resource allocation (harass vs main force)

Drop Ship Micro :
‚Ä¢ Unload positioning (tactical advantage)
‚Ä¢ Pick-up timing (unit survival)
‚Ä¢ Movement patterns (unpredictable routes)
‚Ä¢ Target switching (adaptation)
‚Ä¢ Escape routes (safe extraction)
```

### ‚ö° **Ability Usage Expert**
```
Spell Casting Optimization :
‚Ä¢ Timing precision (maximum effect)
‚Ä¢ Target selection (highest value)
‚Ä¢ Energy management (resource conservation)
‚Ä¢ Combo execution (ability synergy)
‚Ä¢ Interruption techniques (enemy disruption)

Advanced Techniques :
‚Ä¢ Animation canceling (speed improvement)
‚Ä¢ Queue management (action optimization)
‚Ä¢ Prediction targeting (enemy movement)
‚Ä¢ Baiting abilities (enemy waste)
‚Ä¢ Counter-micro (defensive techniques)
```

## üèÜ Combat Situations Complexes

### ‚öîÔ∏è **Engagement Decisions**
```
Fight or Flight Analysis :
‚Ä¢ Army value comparison (strength assessment)
‚Ä¢ Position evaluation (tactical advantage)
‚Ä¢ Upgrade differences (combat efficiency)
‚Ä¢ Reinforcement timing (backup arrival)
‚Ä¢ Retreat options (escape possibilities)

Combat Execution :
‚Ä¢ Initiation timing (engagement start)
‚Ä¢ Target prioritization (elimination order)
‚Ä¢ Positioning maintenance (formation control)
‚Ä¢ Ability coordination (spell synergy)
‚Ä¢ Disengagement execution (tactical retreat)
```

### üéØ **Focus Fire Mastery**
```
Target Selection Logic :
‚Ä¢ High value units (expensive/important)
‚Ä¢ Low health targets (quick elimination)
‚Ä¢ Support units (reduce enemy effectiveness)
‚Ä¢ Threat assessment (immediate danger)
‚Ä¢ Accessibility (ease of targeting)

Execution Techniques :
‚Ä¢ Rapid target switching (efficiency)
‚Ä¢ Damage prediction (overkill prevention)
‚Ä¢ Unit coordination (synchronized attacks)
‚Ä¢ Formation maintenance (positioning)
‚Ä¢ Continuous assessment (target re-evaluation)
```

## üìä Practice and Improvement

### üéÆ **Training Routines**
```
Daily Micro Drills :
‚Ä¢ Marine split challenge (baneling defense)
‚Ä¢ Stalker blink micro (positioning)
‚Ä¢ Muta micro vs marines (harassment)
‚Ä¢ Tank positioning scenarios
‚Ä¢ Spell caster practice (ghost/HT/infestor)

Scenario Practice :
‚Ä¢ Outnumbered situations (micro advantage)
‚Ä¢ Equal army battles (execution quality)
‚Ä¢ Harassment defense (multi-tasking)
‚Ä¢ Terrain usage (position advantage)
‚Ä¢ Retreat scenarios (unit preservation)
```

### üìà **Performance Metrics**
```
Micro Assessment :
‚Ä¢ Unit preservation rate (survival %)
‚Ä¢ Damage efficiency (dealt vs taken)
‚Ä¢ Ability usage rate (spell effectiveness)
‚Ä¢ APM distribution (micro vs macro)
‚Ä¢ Engagement success (win/loss ratio)

Improvement Tracking :
‚Ä¢ Precision improvement (accuracy gains)
‚Ä¢ Speed development (APM increases)
‚Ä¢ Decision quality (better choices)
‚Ä¢ Consistency (reliable performance)
‚Ä¢ Adaptability (situation handling)
```

## üß† Mental Aspects

### üé≠ **Psychological Micro**
```
Pressure Management :
‚Ä¢ Calm execution (stress control)
‚Ä¢ Quick decisions (time pressure)
‚Ä¢ Error recovery (bounce back)
‚Ä¢ Confidence maintenance (performance belief)
‚Ä¢ Adaptability (situation changes)

Mind Games :
‚Ä¢ Fake retreats (enemy positioning)
‚Ä¢ Harassment threats (attention division)
‚Ä¢ Ability baiting (resource waste)
‚Ä¢ Movement patterns (unpredictability)
‚Ä¢ Timing deception (surprise elements)
```

La micro-gestion parfaite transforme les unit√©s en armes l√©tales. Chaque clic compte dans StarCraft II !
                """,
                "tags": ["micro-gestion", "combat", "contr√¥le", "techniques"],
                "video_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
            },
            {
                "title": "Analyse replay et m√©ta √©volution",
                "description": "D√©veloppez vos comp√©tences d'analyse strat√©gique avec √©tude de replays professionnels, compr√©hension m√©ta et adaptation continue.",
                "game": Game.SC2,
                "level": "expert",
                "image": tutorial_images[4],
                "content": """
# üìπ Analyse Replay StarCraft II - √âvolution M√©ta

## üîç M√©thodologie d'Analyse Professionnelle

### üìä **Structure Review Session**
```
Phase 1 : Vue d'Ensemble (3 min)
‚Ä¢ Outcome analysis (victory conditions)
‚Ä¢ Game flow assessment (tempo control)
‚Ä¢ Resource advantages (economic leads)
‚Ä¢ Key engagement results
‚Ä¢ Strategic execution quality

Phase 2 : Chronological Analysis (15 min)
‚Ä¢ Opening build execution
‚Ä¢ Mid-game transitions
‚Ä¢ Tactical decisions
‚Ä¢ Resource management
‚Ä¢ Combat micro quality

Phase 3 : Learning Extraction (5 min)
‚Ä¢ Key mistakes identification
‚Ä¢ Successful techniques
‚Ä¢ Strategic insights
‚Ä¢ Improvement priorities
‚Ä¢ Application planning
```

### üéØ **Points d'Analyse Critiques**
```
Early Game (0-8 min) :
‚Ä¢ Build order execution (timing precision)
‚Ä¢ Scout information utilization
‚Ä¢ Economic foundation (worker count)
‚Ä¢ Tech path decisions
‚Ä¢ Harassment effectiveness

Mid Game (8-15 min) :
‚Ä¢ Army composition choices
‚Ä¢ Expansion timing (risk/reward)
‚Ä¢ Map control establishment
‚Ä¢ Tech transitions
‚Ä¢ Engagement decisions

Late Game (15+ min) :
‚Ä¢ Max army efficiency
‚Ä¢ Base management (multiple fronts)
‚Ä¢ High-tech unit control
‚Ä¢ Resource depletion adaptation
‚Ä¢ Victory condition execution
```

## üåê M√©ta Game Understanding

### üìà **√âvolution M√©ta 2025**
```
Current Trends :
‚Ä¢ Protoss : Gateway all-ins revival
‚Ä¢ Terran : Bio-mine standard
‚Ä¢ Zerg : Roach-hydra dominance
‚Ä¢ Cross-race : Harassment increase
‚Ä¢ Professional : Defensive play rise

Patch Impact Analysis :
‚Ä¢ Unit stat changes (balance implications)
‚Ä¢ New abilities/units (strategy shifts)
‚Ä¢ Map pool rotation (tactical adaptation)
‚Ä¢ Professional tournament results
‚Ä¢ Community innovation adoption
```

### üîÑ **Cycle M√©ta Prediction**
```
Meta Evolution Patterns :
‚Ä¢ Innovation phase (new strategies)
‚Ä¢ Adoption phase (widespread usage)
‚Ä¢ Counter-development (responses)
‚Ä¢ Refinement phase (optimization)
‚Ä¢ Stagnation (need for change)

Adaptation Strategies :
‚Ä¢ Early adoption (innovation advantage)
‚Ä¢ Counter-strategy development
‚Ä¢ Timing optimization (execution)
‚Ä¢ Niche strategy exploration
‚Ä¢ Meta prediction (future preparation)
```

## üèÜ Pro Player Analysis

### üéÆ **Elite Gameplay Study**
```
Focus Areas :
‚Ä¢ Decision making (strategic choices)
‚Ä¢ Execution quality (mechanical skill)
‚Ä¢ Innovation elements (creative strategies)
‚Ä¢ Adaptation patterns (response flexibility)
‚Ä¢ Pressure handling (mental strength)

Learning Extraction :
‚Ä¢ Build refinements (timing optimization)
‚Ä¢ Micro techniques (unit control)
‚Ä¢ Macro patterns (economic management)
‚Ä¢ Strategic concepts (high-level thinking)
‚Ä¢ Mental approaches (psychological aspects)
```

### üìä **Statistical Analysis**
```
Performance Metrics :
‚Ä¢ Win rates by matchup
‚Ä¢ Average game length
‚Ä¢ Resource collection efficiency
‚Ä¢ Army trade efficiency
‚Ä¢ Engagement win percentage

Trend Identification :
‚Ä¢ Strategy success rates
‚Ä¢ Counter-strategy effectiveness
‚Ä¢ Map-specific performance
‚Ä¢ Timing attack success
‚Ä¢ Late game conversion rates
```

## üéØ Skill Development Focus

### üìö **Structured Learning Path**
```
Weekly Analysis Schedule :
‚Ä¢ Personal replays : 3 games/week
‚Ä¢ Pro game study : 2 series/week
‚Ä¢ Meta research : 1 hour/week
‚Ä¢ Practice application : Daily games
‚Ä¢ Community discussion : Forum participation

Skill Prioritization :
Week 1 : Opening execution
Week 2 : Mid-game transitions
Week 3 : Late game management
Week 4 : Specific matchups
Week 5 : Integration & refinement
```

### üîß **Tools and Resources**
```
Analysis Software :
‚Ä¢ SC2ReplayStats (statistical analysis)
‚Ä¢ Spawning Tool (build order database)
‚Ä¢ Liquipedia (tournament results)
‚Ä¢ Reddit/TL (community discussion)
‚Ä¢ Twitch VODs (live analysis)

Data Tracking :
‚Ä¢ Personal performance metrics
‚Ä¢ Build order success rates
‚Ä¢ Matchup win/loss records
‚Ä¢ Improvement trend analysis
‚Ä¢ Goal achievement tracking
```

## üß† Strategic Thinking Development

### üé≤ **Decision Analysis Framework**
```
Decision Quality Assessment :
‚Ä¢ Information available (scouting data)
‚Ä¢ Risk/reward calculation
‚Ä¢ Alternative considerations
‚Ä¢ Timing factors
‚Ä¢ Execution capability

Improvement Process :
‚Ä¢ Identify decision points
‚Ä¢ Analyze alternatives
‚Ä¢ Evaluate outcomes
‚Ä¢ Extract principles
‚Ä¢ Apply learnings
```

### üìä **Pattern Recognition**
```
Strategic Patterns :
‚Ä¢ Opening responses (build counters)
‚Ä¢ Timing attack windows
‚Ä¢ Economic advantage leverage
‚Ä¢ Map-specific strategies
‚Ä¢ Race-specific tendencies

Recognition Development :
‚Ä¢ Repeated exposure (game volume)
‚Ä¢ Conscious analysis (active thinking)
‚Ä¢ Pattern documentation (notes/logs)
‚Ä¢ Application practice (ranked games)
‚Ä¢ Refinement process (continuous improvement)
```

## üèÖ Competitive Application

### üéØ **Tournament Preparation**
```
Preparation Strategy :
‚Ä¢ Meta analysis (current trends)
‚Ä¢ Opponent research (playing styles)
‚Ä¢ Build preparation (reliable strategies)
‚Ä¢ Practice focus (weak areas)
‚Ä¢ Mental preparation (confidence building)

Execution Principles :
‚Ä¢ Consistency over innovation
‚Ä¢ Comfort pick priority
‚Ä¢ Adaptation readiness
‚Ä¢ Mistake minimization
‚Ä¢ Mental resilience
```

### üìà **Ladder Climbing Strategy**
```
Rank Progression :
‚Ä¢ Strategy specialization (depth)
‚Ä¢ Consistency focus (reliable play)
‚Ä¢ Mistake reduction (error elimination)
‚Ä¢ Mental game (tilt management)
‚Ä¢ Continuous learning (adaptation)

Performance Optimization :
‚Ä¢ Peak performance timing
‚Ä¢ Rest and recovery
‚Ä¢ Skill maintenance
‚Ä¢ Meta adaptation
‚Ä¢ Goal setting/achievement
```

## üîÆ Future Preparation

### üåü **Innovation Mindset**
```
Creative Thinking :
‚Ä¢ Question conventional wisdom
‚Ä¢ Experiment with new ideas
‚Ä¢ Analyze failure constructively
‚Ä¢ Share discoveries (community)
‚Ä¢ Adapt quickly (flexibility)

Trend Anticipation :
‚Ä¢ Monitor patch notes carefully
‚Ä¢ Watch experimental strategies
‚Ä¢ Understand game design philosophy
‚Ä¢ Participate in beta testing
‚Ä¢ Engage with developer communication
```

L'analyse replay syst√©matique transforme l'exp√©rience en expertise. √âtudiez, appliquez, et dominolez !
                """,
                "tags": ["analyse", "replay", "m√©ta", "strat√©gie"],
                "video_url": "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
            }
        ]
        
        # Ajouter les tutoriels StarCraft II
        for tutorial_data in sc2_additional_tutorials:
            tutorial = Tutorial(
                **tutorial_data,
                author_id=admin_id,
                is_published=True,
                views=0,
                likes=0
            )
            await db.tutorials.insert_one(tutorial.dict())
            print(f"‚úÖ Tutoriel StarCraft II ajout√©: {tutorial_data['title']}")
        
        # Ajuster Minecraft pour n'avoir que 12 tutoriels (supprimer les doublons)
        print("\nüß± Ajustement Minecraft √† 12 tutoriels...")
        minecraft_tutorials_all = await db.tutorials.find({"game": "minecraft"}).to_list(None)
        
        if len(minecraft_tutorials_all) > 12:
            # Garder les 12 premiers et supprimer les autres
            to_keep = minecraft_tutorials_all[:12]
            to_delete = minecraft_tutorials_all[12:]
            
            for tutorial in to_delete:
                await db.tutorials.delete_one({"_id": tutorial["_id"]})
                print(f"üóëÔ∏è Tutoriel Minecraft supprim√©: {tutorial['title']}")
        
        # Statistiques finales
        final_count = await db.tutorials.count_documents({})
        lol_count = await db.tutorials.count_documents({"game": "lol"})
        sc2_count = await db.tutorials.count_documents({"game": "sc2"})
        minecraft_count = await db.tutorials.count_documents({"game": "minecraft"})
        cs2_count = await db.tutorials.count_documents({"game": "cs2"})
        wow_count = await db.tutorials.count_documents({"game": "wow"})
        
        print(f"\nüìä SYST√àME FINAL √âQUILIBR√â :")
        print(f"   üéØ CS2: {cs2_count} tutoriels")
        print(f"   üè∞ WoW: {wow_count} tutoriels")
        print(f"   üèÜ LoL: {lol_count} tutoriels")
        print(f"   üöÄ SC2: {sc2_count} tutoriels")
        print(f"   üß± Minecraft: {minecraft_count} tutoriels")
        print(f"   üìö TOTAL: {final_count} tutoriels")
        
        print("\nüéâ SYST√àME PARFAITEMENT √âQUILIBR√â!")
        print("‚úÖ Chaque jeu a exactement 12 tutoriels professionnels en fran√ßais!")
        
    except Exception as e:
        print(f"‚ùå Erreur: {str(e)}")
        raise
    finally:
        client.close()

if __name__ == "__main__":
    print("üöÄ Compl√©tion finale des tutoriels...")
    asyncio.run(complete_remaining_tutorials())
    print("‚úÖ Mission parfaitement accomplie !")